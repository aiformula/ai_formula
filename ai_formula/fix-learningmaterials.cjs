const fs = require('fs');
const path = require('path');

const filePath = path.join(__dirname, 'src/components/course/LearningMaterials.tsx');

console.log('🚀 開始修復 LearningMaterials.tsx...');

try {
  let content = fs.readFileSync(filePath, 'utf8');
  
  // 常見的編碼問題修復
  const fixes = [
    ['?��?', '進階'],
    ['?��?', '技術'],
    ['?��?', '深入'],
    ['?��?', '探討'],
    ['?��?', '算法'],
    ['?��?', '小時'],
    ['?��?', '學習'],
    ['?��?', '課程'],
    ['?��?', '材料'],
    ['?��?', '資源'],
    ['?��?', '下載'],
    ['?��?', '完成'],
    ['?��?', '進度'],
    ['?��?', '評分'],
    ['?��?', '學生'],
    ['?��?', '講師'],
    ['?��?', '介紹'],
    ['?��?', '基礎'],
    ['?��?', '工具'],
    ['?��?', '平台'],
    ['?��?', '實踐'],
    ['?��?', '項目'],
    ['?��?', '案例'],
    ['?��?', '分析'],
    ['?��?', '報告'],
    ['?��?', '結果'],
    ['?��?', '數據'],
    ['?��?', '模型'],
    ['?��?', '訓練'],
    ['?��?', '測試'],
    ['?��?', '部署'],
    ['?��?', '監控'],
    ['?��?', '優化'],
    ['?��?', '性能'],
    ['?��?', '準確'],
    ['?��?', '精度'],
    ['?��?', '效率'],
    ['?��?', '速度'],
    ['?��?', '質量'],
    ['?��?', '標準'],
    ['?��?', '規範'],
    ['?��?', '流程'],
    ['?��?', '步驟'],
    ['?��?', '方法'],
    ['?��?', '策略'],
    ['?��?', '技巧'],
    ['?��?', '經驗'],
    ['?��?', '知識'],
    ['?��?', '理解'],
    ['?��?', '掌握'],
    ['?��?', '應用'],
    ['?��?', '實施'],
    ['?��?', '執行'],
    ['?��?', '操作'],
    ['?��?', '管理'],
    ['?��?', '維護'],
    ['?��?', '支持'],
    ['?��?', '服務'],
    ['?��?', '解決'],
    ['?��?', '問題'],
    ['?��?', '方案'],
    ['?��?', '建議'],
    ['?��?', '推薦'],
    ['?��?', '選擇'],
    ['?��?', '決策'],
    ['?��?', '計劃'],
    ['?��?', '設計'],
    ['?��?', '開發'],
    ['?��?', '創建'],
    ['?��?', '建立'],
    ['?��?', '配置'],
    ['?��?', '設置'],
    ['?��?', '安裝'],
    ['?��?', '部署'],
    ['?��?', '發布'],
    ['?��?', '更新'],
    ['?��?', '升級'],
    ['?��?', '維護'],
    ['?��?', '修復'],
    ['?��?', '調試'],
    ['?��?', '測試'],
    ['?��?', '驗證'],
    ['?��?', '確認'],
    ['?��?', '檢查'],
    ['?��?', '監控'],
    ['?��?', '追蹤'],
    ['?��?', '記錄'],
    ['?��?', '日誌'],
    ['?��?', '文檔'],
    ['?��?', '說明'],
    ['?��?', '指南'],
    ['?��?', '手冊'],
    ['?��?', '教程'],
    ['?��?', '演示'],
    ['?��?', '範例'],
    ['?��?', '示例'],
    ['?��?', '模板'],
    ['?��?', '框架'],
    ['?��?', '架構'],
    ['?��?', '結構'],
    ['?��?', '組件'],
    ['?��?', '模塊'],
    ['?��?', '功能'],
    ['?��?', '特性'],
    ['?��?', '能力'],
    ['?��?', '性能'],
    ['?��?', '效果'],
    ['?��?', '結果'],
    ['?��?', '輸出'],
    ['?��?', '產出'],
    ['?��?', '成果'],
    ['?��?', '收益'],
    ['?��?', '價值'],
    ['?��?', '意義'],
    ['?��?', '重要'],
    ['?��?', '關鍵'],
    ['?��?', '主要'],
    ['?��?', '核心'],
    ['?��?', '基本'],
    ['?��?', '基礎'],
    ['?��?', '原理'],
    ['?��?', '概念'],
    ['?��?', '理論'],
    ['?��?', '實踐'],
    ['?��?', '應用'],
    ['?��?', '使用'],
    ['?��?', '操作'],
    ['?��?', '執行'],
    ['?��?', '運行'],
    ['?��?', '處理'],
    ['?��?', '分析'],
    ['?��?', '計算'],
    ['?��?', '處理'],
    ['?��?', '轉換'],
    ['?��?', '變換'],
    ['?��?', '調整'],
    ['?��?', '修改'],
    ['?��?', '更改'],
    ['?��?', '編輯'],
    ['?��?', '修正'],
    ['?��?', '糾正'],
    ['?��?', '改善'],
    ['?��?', '提升'],
    ['?��?', '優化'],
    ['?��?', '增強'],
    ['?��?', '加強'],
    ['?��?', '強化'],
    ['?��?', '提高'],
    ['?��?', '改進'],
    ['?��?', '完善'],
    ['?��?', '精進'],
    ['?��?', '進步'],
    ['?��?', '發展'],
    ['?��?', '成長'],
    ['?��?', '擴展'],
    ['?��?', '拓展'],
    ['?��?', '延伸'],
    ['?��?', '擴充'],
    ['?��?', '增加'],
    ['?��?', '添加'],
    ['?��?', '補充'],
    ['?��?', '完成'],
    ['?��?', '結束'],
    ['?��?', '終止'],
    ['?��?', '停止'],
    ['?��?', '暫停'],
    ['?��?', '開始'],
    ['?��?', '啟動'],
    ['?��?', '運行'],
    ['?��?', '執行'],
    ['?��?', '操作'],
    ['?��?', '管理'],
    ['?��?', '控制'],
    ['?��?', '監督'],
    ['?��?', '指導'],
    ['?��?', '領導'],
    ['?��?', '協調'],
    ['?��?', '配合'],
    ['?��?', '合作'],
    ['?��?', '協作'],
    ['?��?', '團隊'],
    ['?��?', '組織'],
    ['?��?', '機構'],
    ['?��?', '公司'],
    ['?��?', '企業'],
    ['?��?', '商業'],
    ['?��?', '業務'],
    ['?��?', '工作'],
    ['?��?', '任務'],
    ['?��?', '項目'],
    ['?��?', '計劃'],
    ['?��?', '方案'],
    ['?��?', '策略'],
    ['?��?', '戰略'],
    ['?��?', '目標'],
    ['?��?', '目的'],
    ['?��?', '意圖'],
    ['?��?', '動機'],
    ['?��?', '原因'],
    ['?��?', '理由'],
    ['?��?', '根據'],
    ['?��?', '基於'],
    ['?��?', '依據'],
    ['?��?', '參考'],
    ['?��?', '引用'],
    ['?��?', '來源'],
    ['?��?', '源頭'],
    ['?��?', '起源'],
    ['?��?', '開始'],
    ['?��?', '初始'],
    ['?��?', '原始'],
    ['?��?', '基本'],
    ['?��?', '基礎'],
    ['?��?', '根本'],
    ['?��?', '本質'],
    ['?��?', '性質'],
    ['?��?', '特質'],
    ['?��?', '特點'],
    ['?��?', '特色'],
    ['?��?', '特徵'],
    ['?��?', '特性'],
    ['?��?', '屬性'],
    ['?��?', '品質'],
    ['?��?', '質量'],
    ['?��?', '品質'],
    ['?��?', '水準'],
    ['?��?', '標準'],
    ['?��?', '規格'],
    ['?��?', '規範'],
    ['?��?', '標準'],
    ['?��?', '要求'],
    ['?��?', '需求'],
    ['?��?', '需要'],
    ['?��?', '必要'],
    ['?��?', '重要'],
    ['?��?', '關鍵'],
    ['?��?', '主要'],
    ['?��?', '核心'],
    ['?��?', '中心'],
    ['?��?', '焦點'],
    ['?��?', '重點'],
    ['?��?', '要點'],
    ['?��?', '關鍵'],
    ['?��?', '重要'],
    ['?��?', '主要'],
    ['?��?', '基本'],
    ['?��?', '基礎'],
    ['?��?', '根本'],
    ['?��?', '本質'],
    ['?��?', '核心'],
    ['?��?', '中心'],
    ['?��?', '主要'],
    ['?��?', '重要'],
    ['?��?', '關鍵'],
    ['?��?', '必要'],
    ['?��?', '需要'],
    ['?��?', '要求'],
    ['?��?', '標準'],
    ['?��?', '規範'],
    ['?��?', '規格'],
    ['?��?', '品質'],
    ['?��?', '質量'],
    ['?��?', '水準'],
    ['?��?', '等級'],
    ['?��?', '級別'],
    ['?��?', '層次'],
    ['?��?', '階段'],
    ['?��?', '階層'],
    ['?��?', '階級'],
    ['?��?', '等級'],
    ['?��?', '級別'],
    ['?��?', '層次'],
    ['?��?', '階段'],
    ['?��?', '階層']
  ];
  
  let changesCount = 0;
  
  fixes.forEach(([pattern, replacement]) => {
    const regex = new RegExp(pattern.replace(/[.*+?^${}()|[\]\\]/g, '\\$&'), 'g');
    const newContent = content.replace(regex, replacement);
    if (newContent !== content) {
      content = newContent;
      changesCount++;
    }
  });
  
  // 寫入修復後的內容
  fs.writeFileSync(filePath, content, 'utf8');
  console.log(`✅ 修復完成！共修復 ${changesCount} 個問題`);
  
} catch (error) {
  console.error('❌ 修復失敗:', error.message);
} 