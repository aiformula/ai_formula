const fs = require('fs');
const path = require('path');

console.log('ğŸš€ é–‹å§‹ä¿®å¾© courses.ts æ–‡ä»¶...');

const filePath = path.join(__dirname, 'src/data/courses/courses.ts');

try {
  let content = fs.readFileSync(filePath, 'utf8');
  
  // ä¿®å¾©å¸¸è¦‹çš„ä¸­æ–‡å­—ç¬¦ç·¨ç¢¼å•é¡Œ
  const fixes = [
    // ä¿®å¾©æœªçµ‚æ­¢çš„å­—ç¬¦ä¸²å’Œç·¨ç¢¼å•é¡Œ
    ['titleCht: "AIå·¥å…·?ï¿½å¹³??,', 'titleCht: "AIå·¥å…·èˆ‡å¹³å°",'],
    ['descriptionCht: "?ï¿½ï¿½?AIå·¥å…·æ¦‚è¦½ä»¥ï¿½?å¦‚ï¿½??ï¿½ï¿½??ï¿½é©?ï¿½å·¥??,', 'descriptionCht: "ç†±é–€AIå·¥å…·æ¦‚è¦½ä»¥åŠå¦‚ä½•é¸æ“‡é©åˆå·¥å…·",'],
    ['descriptionCht: "?ï¿½ï¿½?æ¥­ä¸­å¯¦æ–½AI?ï¿½é€æ­¥?ï¿½ï¿½?",', 'descriptionCht: "åœ¨ä¼æ¥­ä¸­å¯¦æ–½AIçš„é€æ­¥æŒ‡å—",'],
    ['titleCht: "?ï¿½ï¿½??ï¿½å ±?ï¿½ï¿½?ç¸¾ï¿½?æ¸¬ï¿½?",', 'titleCht: "çµæœå ±å‘Šå’Œç¸¾æ•ˆæ¸¬é‡",'],
    
    // ä¿®å¾©é¡å‹å®šç¾©ä¸­çš„ç·¨ç¢¼å•é¡Œ
    ['levelCht: \'?ï¿½ï¿½?\' | \'ä¸­ï¿½?\' | \'é«˜ï¿½?\';', 'levelCht: \'åˆç´š\' | \'ä¸­ç´š\' | \'é«˜ç´š\';'],
    ['levelCht: "ä¸­ï¿½?",', 'levelCht: "ä¸­ç´š",'],
    ['levelCht: "é«˜ï¿½?",', 'levelCht: "é«˜ç´š",'],
    
    // ä¿®å¾©å¸¸è¦‹çš„ä¸­æ–‡è©å½™
    ['?ï¿½æ¥­', 'å•†æ¥­'],
    ['?ï¿½ï¿½?', 'åŸºç¤'],
    ['?ï¿½èƒ½', 'æ™ºèƒ½'],
    ['?ï¿½ï¿½???', 'è‡ªå‹•åŒ–'],
    ['äººå·¥?ï¿½èƒ½', 'äººå·¥æ™ºèƒ½'],
    ['?ï¿½å¹³??', 'å¹³å°'],
    ['?ï¿½ï¿½?', 'ç†±é–€'],
    ['?ï¿½è§£', 'äº†è§£'],
    ['?ï¿½ï¿½??', 'çŸ¥è­˜'],
    ['?ï¿½ï¿½??', 'æ‡‰ç”¨'],
    ['?ï¿½ï¿½?', 'ä¼æ¥­'],
    ['?ï¿½ï¿½?', 'æŒ‡å—'],
    ['?ï¿½ï¿½?', 'çµæœ'],
    ['?ï¿½ï¿½?', 'å ±å‘Š'],
    ['?ï¿½ï¿½?', 'ç¸¾æ•ˆ'],
    ['?ï¿½ï¿½?', 'æ¸¬é‡'],
    
    // ä¿®å¾©å…¶ä»–å¸¸è¦‹ç·¨ç¢¼å•é¡Œ
    ['??', '/images/courses/placeholder.jpg'],
    ['?ï¿½', 'çš„'],
    ['?ï¿½', 'å’Œ'],
    ['?ï¿½', 'åœ¨'],
    ['?ï¿½', 'èˆ‡'],
    ['?ï¿½', 'å¦‚'],
    ['?ï¿½', 'ä½•'],
    ['?ï¿½', 'é¸'],
    ['?ï¿½', 'æ“‡'],
    ['?ï¿½', 'é©'],
    ['?ï¿½', 'åˆ'],
    ['?ï¿½', 'å·¥'],
    ['?ï¿½', 'å…·'],
    ['?ï¿½', 'å¯¦'],
    ['?ï¿½', 'æ–½'],
    ['?ï¿½', 'é€'],
    ['?ï¿½', 'æ­¥'],
    ['?ï¿½', 'çµ'],
    ['?ï¿½', 'æœ'],
    ['?ï¿½', 'ç¸¾'],
    ['?ï¿½', 'æ•ˆ'],
    ['?ï¿½', 'æ¸¬'],
    ['?ï¿½', 'é‡'],
    
    // ä¿®å¾©ç‰¹å®šçš„æœªçµ‚æ­¢å­—ç¬¦ä¸²
    ['"AIå·¥å…·èˆ‡å¹³å°,', '"AIå·¥å…·èˆ‡å¹³å°",'],
    ['"ç†±é–€AIå·¥å…·æ¦‚è¦½ä»¥åŠå¦‚ä½•é¸æ“‡é©åˆå·¥å…·,', '"ç†±é–€AIå·¥å…·æ¦‚è¦½ä»¥åŠå¦‚ä½•é¸æ“‡é©åˆå·¥å…·",'],
    ['"åœ¨ä¼æ¥­ä¸­å¯¦æ–½AIçš„é€æ­¥æŒ‡å—,', '"åœ¨ä¼æ¥­ä¸­å¯¦æ–½AIçš„é€æ­¥æŒ‡å—",'],
    ['"çµæœå ±å‘Šå’Œç¸¾æ•ˆæ¸¬é‡,', '"çµæœå ±å‘Šå’Œç¸¾æ•ˆæ¸¬é‡",'],
  ];
  
  let changesCount = 0;
  
  fixes.forEach(([pattern, replacement]) => {
    const regex = new RegExp(pattern.replace(/[.*+?^${}()|[\]\\]/g, '\\$&'), 'g');
    const newContent = content.replace(regex, replacement);
    if (newContent !== content) {
      content = newContent;
      changesCount++;
      console.log(`âœ… ä¿®å¾©: ${pattern} -> ${replacement}`);
    }
  });
  
  // å¯«å…¥ä¿®å¾©å¾Œçš„å…§å®¹
  fs.writeFileSync(filePath, content, 'utf8');
  console.log(`\nâœ… ä¿®å¾©å®Œæˆï¼å…±ä¿®å¾© ${changesCount} å€‹å•é¡Œ`);
  
} catch (error) {
  console.error('âŒ ä¿®å¾©å¤±æ•—:', error.message);
  process.exit(1);
} 