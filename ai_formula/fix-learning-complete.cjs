const fs = require('fs');
const path = require('path');

const filePath = path.join(__dirname, 'src/components/course/LearningMaterials.tsx');

console.log('ğŸš€ é–‹å§‹å®Œæ•´ä¿®å¾© LearningMaterials.tsx...');

try {
  let content = fs.readFileSync(filePath, 'utf8');
  
  // æ ¸å¿ƒç·¨ç¢¼ä¿®å¾©
  const coreFixes = [
    // ä¿®å¾©å°æ™‚
    ['å°ï¿½?', 'å°æ™‚'],
    // ä¿®å¾©å¸¸è¦‹è©å½™
    ['å­¸ï¿½?', 'å­¸ç¿’'],
    ['é€²éš?ï¿½', 'é€²éšçš„'],
    ['?ï¿½æ¥­', 'å•†æ¥­'],
    ['?ï¿½æ…§', 'æ™ºæ…§'],
    ['?ï¿½å­¸ç¿’', 'çš„å­¸ç¿’'],
    ['?ï¿½ç”¨', 'æ‡‰ç”¨'],
    ['?ï¿½å ´', 'å¸‚å ´'],
    ['?ï¿½å·¥ä½œ', 'çš„å·¥ä½œ'],
    ['?ï¿½ç¨‹', 'æµç¨‹'],
    ['?ï¿½ç®—', 'æ¼”ç®—'],
    ['?ï¿½è¨­', 'è¨­è¨ˆ'],
    ['?ï¿½å¯¦', 'å¯¦éš›'],
    ['?ï¿½æ ¸å¿ƒ', 'çš„æ ¸å¿ƒ'],
    ['?ï¿½æ·±åº¦', 'çš„æ·±åº¦'],
    ['?ï¿½å¤§', 'çš„å¤§'],
    ['?ï¿½Python', 'çš„Python'],
    ['?ï¿½ä¼æ¥­', 'çš„ä¼æ¥­'],
    ['?ï¿½æˆ°', 'å¯¦æˆ°'],
    ['?ï¿½ï¿½', 'èª²ç¨‹'],
    ['??', 'è³‡æ–™'],
    ['?ï¿½ï¿½', 'æ¨¡å‹'],
    ['?ï¿½ï¿½', 'è‡ªå‹•åŒ–'],
    ['?ï¿½ï¿½', 'å„ªåŒ–'],
    ['?ï¿½ï¿½', 'å·¥å…·'],
    ['?ï¿½ï¿½', 'æ¼”ç·´'],
    ['?ï¿½ï¿½', 'å®Œæ•´'],
    ['?ï¿½ï¿½', 'å°ˆæ¥­'],
    ['?ï¿½ï¿½', 'æ•¸æ“š'],
    ['?ï¿½ï¿½', 'åˆ†æ'],
    ['?ï¿½ï¿½', 'è™•ç†'],
    ['?ï¿½ï¿½', 'æ©Ÿå™¨'],
    ['?ï¿½ï¿½', 'äººå·¥'],
    ['?ï¿½ï¿½', 'æ™ºèƒ½'],
    ['?ï¿½ï¿½', 'å­¸ç¿’']
  ];
  
  // ä¿®å¾©æœªçµ‚æ­¢çš„å­—ç¬¦ä¸²
  const stringFixes = [
    ['é€²éšé€²éšï¼šå¤§é€²éšé€²éšé€²éš,', 'è³‡æ–™ç§‘å­¸ï¼šå¤§æ•¸æ“šåˆ†ææŠ€è¡“",'],
    ['é€²éšç®—æ³•ï¼šæ·±åº¦å­¸ç¿’æ ¸å¿ƒæŠ€è¡“,', 'é€²éšç®—æ³•ï¼šæ·±åº¦å­¸ç¿’æ ¸å¿ƒæŠ€è¡“",'],
    ['ç¨‹å¼è¨­è¨ˆï¼šPythonå¯¦æˆ°æ¼”ç·´,', 'ç¨‹å¼è¨­è¨ˆï¼šPythonå¯¦æˆ°æ¼”ç·´",'],
    ['ä¼æ¥­æ‡‰ç”¨ï¼šå¯¦éš›å•†æ¥­å ´æ™¯,', 'ä¼æ¥­æ‡‰ç”¨ï¼šå¯¦éš›å•†æ¥­å ´æ™¯",'],
    ['å•†æ¥­AIé€²éš,', 'å•†æ¥­AIé€²éš",'],
    ['ä½¿ç”¨AIå·¥å…·çš„å·¥ä½œæµç¨‹è‡ªé€²éšçš„å•†æ¥­æµç¨‹,', 'ä½¿ç”¨AIå·¥å…·çš„å·¥ä½œæµç¨‹è‡ªå‹•åŒ–å•†æ¥­æµç¨‹",'],
    ['é€²éš", "å•†æ¥­", "AIå·¥å…·"],', 'é€²éš", "å•†æ¥­", "AIå·¥å…·"],'],
    ['é€²éšé€²éšé€²éšå·¥å…·é€²éš,', 'é€²éšæ•¸æ“šè™•ç†å·¥å…·",']
  ];
  
  let changesCount = 0;
  
  // æ‡‰ç”¨æ ¸å¿ƒä¿®å¾©
  coreFixes.forEach(([pattern, replacement]) => {
    const regex = new RegExp(pattern.replace(/[.*+?^${}()|[\]\\]/g, '\\$&'), 'g');
    const newContent = content.replace(regex, replacement);
    if (newContent !== content) {
      content = newContent;
      changesCount++;
      console.log(`âœ… ä¿®å¾©: ${pattern} -> ${replacement}`);
    }
  });
  
  // æ‡‰ç”¨å­—ç¬¦ä¸²ä¿®å¾©
  stringFixes.forEach(([pattern, replacement]) => {
    const regex = new RegExp(pattern.replace(/[.*+?^${}()|[\]\\]/g, '\\$&'), 'g');
    const newContent = content.replace(regex, replacement);
    if (newContent !== content) {
      content = newContent;
      changesCount++;
      console.log(`âœ… å­—ç¬¦ä¸²ä¿®å¾©: ${pattern} -> ${replacement}`);
    }
  });
  
  // å¯«å…¥ä¿®å¾©å¾Œçš„å…§å®¹
  fs.writeFileSync(filePath, content, 'utf8');
  console.log(`\nâœ… å®Œæ•´ä¿®å¾©å®Œæˆï¼å…±ä¿®å¾© ${changesCount} å€‹å•é¡Œ`);
  
} catch (error) {
  console.error('âŒ ä¿®å¾©å¤±æ•—:', error.message);
} 